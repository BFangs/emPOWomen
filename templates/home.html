{% extends 'base.html' %}



{% block content %}


    <div class="container" id="modal-div">
      <!-- Trigger the modal with a button -->
      <button type="button" class="btn btn-secondary" id="login-btn">Login</button>

      <!-- Login Modal -->
      <div class="modal fade" id="login-modal" role="dialog">
        <div class="modal-dialog">

          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4><span class="glyphicon glyphicon-lock"></span> Login</h4>
            </div>
            <div class="modal-body">
              <form role="form">
                <div class="form-group">
                  <label for="usrname"><span class="glyphicon glyphicon-user"></span> Email</label>
                  <input type="text" class="form-control" name="user_email" id="usrname" placeholder="Email">
                </div>
                <div class="form-group">
                  <label for="psw"><span class="glyphicon glyphicon-eye-open"></span> Password</label>
                  <input type="text" class="form-control" id="psw" placeholder="Enter password">
                </div>
                <button type="submit" class="btn btn-default btn-success btn-block"><span class="glyphicon glyphicon-off"></span> Login</button>
              </form>
            </div>
            <div class="modal-footer">
              <button type="submit" class="btn btn-default btn-default pull-left" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Cancel</button>
            </div>
          </div>
        </div>
      </div> 

      <!-- Trigger the modal with a button -->
      <button type="button" class="btn btn-primary" id="register-btn">Register</button>

      <!-- Modal -->
      <div class="modal fade" id="register-modal" role="dialog">
        <div class="modal-dialog">

          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4><span class="glyphicon glyphicon-lock"></span> Register</h4>
            </div>
            <div class="modal-body">
              <form role="form">
                <div class="form-group">
                  <label for="usrname"><span class="glyphicon glyphicon-user"></span> Username</label>
                  <input type="text" class="form-control" name="user_name" id="usrname" placeholder="Enter email">
                </div>
                <div class="form-group">
                  <label for="usrname"><span class="glyphicon glyphicon-user"></span> Email</label>
                  <input type="text" class="form-control" name="user_email" id="usrname" placeholder="Enter email">
                </div>
                <div class="form-group">
                  <label for="psw"><span class="glyphicon glyphicon-eye-open"></span> Password</label>
                  <input type="text" class="form-control" id="psw" placeholder="Enter password">
                </div>
                <button type="submit" class="btn btn-default btn-success btn-block"><span class="glyphicon glyphicon-off"></span> Register</button>
              </form>
            </div>
            <div class="modal-footer">
              <button type="submit" class="btn btn-default btn-default pull-left" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> Cancel</button>
            </div>
          </div>
        </div>
      </div> 
    </div>
    <div id="homepage-head">
        <h1 class="page-title">Scholarships <span id="for">for</span> Women</h1><br>
        <p class="description-txt">Register and/or login to save scholarships, subscribe to relevant categories and emails of new scholarships, and receive notifications for upcoming deadlines</p>

    </div>


    {% if 'user_id' in session %}


        <h3>Your Categories</h3>
            {% if user_categories %}
                {% for item in filter_scholarships %} <!-- json object -->
                    <div class="card text-center card w-50">
                        <div class="card-header">
                        {{ item[0].organization }}
                        </div>
                        <div class="card-block">
                            <h4 class="card-title">{{ item[0].scholarship_name }}</h4>
                            <p class="card-text">
                                <span class="amount">{{ item[0].amount }}</span><br>
                                <span class="categories">Categories: </span><br>
                                {% for category in item[1] %}
                                    {{ category }}<br>
                                {% endfor %}

                            </p>
                            <a href="{{item[0].url}}" target="_blank" class="btn btn-primary">Apply Online</a>
                            <a href="/save" method="POST" class="btn btn-secondary save-btn">Save</a>
                        </div>
                        <div class="card-footer text-muted">Deadline: {{ item[0].deadline }}
                        </div>
                    </div>
                    <p>
                    </p>
                {% endfor %}
            {% else %}
                <p>You currently don't have any subscribed categories. <br>
                    <a href="/users/{{ user.user_id }}">Visit your profile page</a> to add categories to subscribe to.
                </p>
            {% endif %}

        <h3>All</h3>

    {% endif %}

    {% for item in scholarships %}

        <div class="card text-center card w-50">
          <div class="card-header">
            {{ item[0].organization }}
          </div>
          <div class="card-block">
            <h4 class="card-title">{{ item[0].scholarship_name }}</h4>
            <p class="card-text">
                <span class="amount">{{ item[0].amount }}</span><br>
                <span class="categories">Categories: </span><br>
                {% for category in item[1] %}
                    {{ category }}<br>
                {% endfor %}

            </p>
            <a href="{{item[0].url}}" target="_blank" class="btn btn-primary">Apply Online</a>
            <a href="/save" method="POST" class="btn btn-secondary save-btn">Save</a>
          </div>
          <div class="card-footer text-muted">Deadline: {{ item[0].deadline }}
            
          </div>
        </div>
        <p>
        </p>
    {% endfor %}

<script>


    $(document).ready(function(){
    $("#login-btn").click(function(){
        $("#login-modal").modal("toggle");
    });
});

        $(document).ready(function(){
    $("#register-btn").click(function(){
        $("#register-modal").modal("toggle");
    });
});

// </script>

{% endblock %}